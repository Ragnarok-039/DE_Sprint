Проект № 2.
Анализ рынка валют.

Создан полностью рабочий ETL-процесс формирования витрин данных.

Данные забираются через api с сайта-источника: https://www.alphavantage.co/
Формируем сырой слой данных - полученные данные с сайта записываем в json.
Да, скорее всего, можно было использовать hdfs для этих целей, но, к сожалению, на тот момент не было времени на это.

Далее формируем промежуточный слой в SQL - берем json и записываем в БД, где заранее были созданы три таблицы:
- currency_exchange_rate - курс обмена валют.
- company_rates - котировки акций компаний.
- company_rates_showcase - слой витрин для котировок акций.

Следующим шагом формируем слой витрин - берем данные из одной таблицы (company_rates), обрабатываем через SQL запрос и помещаем
в другую таблицу (company_rates_showcase) в соответствии с требованиями задачи.

Полностью готов ETL-процесс для анализа котировок акций компаний.
Хотел сделать подобное и для курса валют, но не успел. Для валют только создал таблицу и заливаю туда данные с сайта.

Весь процесс сделан на основе airflow, записан в DAG - 'exchange_rates_and_companies'.
Данный DAG работает на сервере airflow. Запускается раз в день.
------------------------------------------------------------------------------------------------------------------------

Общая задача: создать ETL-процесс формирования витрин данных для анализа изменений курса валют.

Подробное описание задачи:

Разработать скрипты загрузки данных в 2-х режимах:
- Инициализирующий – загрузка полного слепка данных источника.
- Инкрементальный – загрузка дельты данных за прошедшие сутки.

Организовать правильную структуру хранения данных:
- Сырой слой данных.
- Промежуточный слой.
- Слой витрин.

В качестве результата работы программного продукта необходимо написать скрипт, который формирует витрину данных следующего содержания:
- Суррогатный ключ категории.
- Название валюты.
- Суммарный объем торгов за последние сутки.
- Курс валюты на момент открытия торгов для данных суток.
- Курс валюты на момент закрытия торгов для данных суток.
- Разница(в %) курса с момента открытия до момента закрытия торгов для данных суток.
- Минимальный временной интервал, на котором был зафиксирован самый крупный объем торгов для данных суток.
- Минимальный временной интервал, на котором был зафиксирован максимальный курс для данных суток.
- Минимальный временной интервал, на котором был зафиксирован минимальный курс торгов для данных суток.

Дополнение:
В качестве основы витрины необходимо выбрать 5-10 различных валют или акций компаний.

Источники:
https://www.alphavantage.co/
